<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI Virtual Try-On ‚Äî Direct clothing transfer with verification">
    <title>Virtual Try-On ‚Äî AI Clothing Transfer</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üëó</text></svg>">
</head>

<body>

    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="logo-icon">üëó</div>
            <div>
                <h1>Virtual Try-On</h1>
                <p class="header-sub">Direct Image-to-Image Clothing Transfer with AI Verification</p>
            </div>
        </div>
        <div class="header-badges">
            <span class="badge badge-purple">Gemini 2.5 Flash</span>
            <span class="badge badge-pink">Virtual Try-On</span>
            <span class="badge badge-green">Auto-Verify</span>
        </div>
    </header>

    <!-- Status Bar -->
    <div class="container">
        <div id="status-bar" class="status-bar">
            <div class="pulse"></div>
            <span id="status-text"></span>
        </div>
    </div>

    <!-- Pipeline Progress -->
    <div class="container">
        <div class="pipeline-progress" id="pipeline-progress">
            <div class="pipeline-step" id="pipe-generate">
                <div class="pipe-icon">‚ú®</div>
                <div class="pipe-label">Generate</div>
            </div>
            <div class="pipe-connector"></div>
            <div class="pipeline-step" id="pipe-verify">
                <div class="pipe-icon">üîé</div>
                <div class="pipe-label">Verify</div>
            </div>
            <div class="pipe-connector"></div>
            <div class="pipeline-step" id="pipe-refine">
                <div class="pipe-icon">üîß</div>
                <div class="pipe-label">Refine</div>
            </div>
        </div>
    </div>

    <!-- ============ STEP 1: Source Upload + Preview ============ -->
    <section class="container section-row">
        <div class="step-label"><span class="step-num">1</span> Source Outfit</div>
        <div class="row-grid">
            <div class="card">
                <div class="card-title">
                    <div class="dot purple"></div>
                    Upload Source Outfit
                </div>
                <div class="upload-zone" id="source-upload">
                    <div class="upload-icon">üì∑</div>
                    <div class="upload-text">Click or drag to upload</div>
                    <div class="upload-hint">The dress & jewelry from this image will be copied</div>
                    <input type="file" id="source-input" accept="image/*">
                </div>
            </div>
            <div class="card">
                <div class="card-title">
                    <div class="dot green"></div>
                    Source Preview
                </div>
                <div class="output-image-container" id="original-display">
                    <div class="output-placeholder">
                        <div class="icon">üñºÔ∏è</div>
                        <p>Source image preview</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============ STEP 2: Target Upload + Generate ============ -->
    <section class="container section-row">
        <div class="step-label"><span class="step-num">2</span> Target Person & Generate</div>
        <div class="row-grid">
            <div class="card">
                <div class="card-title">
                    <div class="dot blue"></div>
                    Upload Target Person
                </div>
                <div class="upload-zone" id="target-upload">
                    <div class="upload-icon">üßë</div>
                    <div class="upload-text">Click or drag to upload</div>
                    <div class="upload-hint">This person will wear the source outfit</div>
                    <input type="file" id="target-input" accept="image/*">
                </div>
                <div class="user-instructions-wrapper">
                    <label class="user-instructions-label" for="user-instructions">
                        <span class="label-icon">‚úçÔ∏è</span> Your Instructions <span
                            class="optional-tag">(Optional)</span>
                    </label>
                    <textarea id="user-instructions" class="user-instructions"
                        placeholder="e.g., White studio background, soft natural lighting, professional look..."
                        rows="3"></textarea>
                    <div class="instructions-hint">üí° Optional: background, lighting, pose adjustments</div>
                </div>
                <button class="btn btn-generate" id="generate-btn" disabled>
                    <div class="spinner"></div>
                    <span class="btn-text">‚ú® Generate ‚Äî Copy Outfit</span>
                </button>
            </div>
            <div class="card">
                <div class="card-title">
                    <div class="dot pink"></div>
                    Generated Result
                    <!-- Accuracy Badge -->
                    <div class="accuracy-badge" id="accuracy-badge" style="display:none;">
                        <span class="accuracy-score" id="accuracy-score">--</span>
                        <span class="accuracy-label">Match</span>
                    </div>
                </div>
                <div class="output-image-container" id="generated-display">
                    <div class="output-placeholder">
                        <div class="icon">üé®</div>
                        <p>Generated image will appear here</p>
                    </div>
                </div>
                <button class="btn-download" id="download-btn">
                    ‚¨áÔ∏è Download Result
                </button>

                <!-- Comparison View -->
                <div class="comparison-section" id="comparison-section" style="display:none;">
                    <div class="card-title" style="margin-top:14px;">
                        <div class="dot orange"></div>
                        Source vs Result Comparison
                    </div>
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <div class="comparison-label">Source Dress</div>
                            <div class="comparison-img" id="compare-source"></div>
                        </div>
                        <div class="comparison-item">
                            <div class="comparison-label">Generated Result</div>
                            <div class="comparison-img" id="compare-generated"></div>
                        </div>
                    </div>
                </div>

                <!-- Corrections Log -->
                <div class="corrections-log" id="corrections-log" style="display:none;">
                    <div class="card-title" style="margin-top:14px;">
                        <div class="dot green"></div>
                        Verification & Corrections
                    </div>
                    <div class="corrections-content" id="corrections-content"></div>
                </div>

                <div class="generation-text" id="generation-text"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>Powered by <strong>Gemini 2.5 Flash</strong> (Generation + Verification) ‚Äî Direct Image-to-Image Pipeline</p>
    </footer>

    <script src="/static/script.js"></script>

</body>

</html>